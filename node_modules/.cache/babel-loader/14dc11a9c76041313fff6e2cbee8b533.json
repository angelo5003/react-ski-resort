{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/tonytolen/Desktop/react/my-ski-resort/my-ski-resort/src/components/Sharedmodal/SharedModal.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useEffect, useCallback, useState } from 'react';\nimport Portal from '../Portal';\nimport SignUp from '../Login/Signup/SignUp';\nimport LoginForm from '../Login/Loginform/LoginForm';\nimport forms from '../Login/index';\nimport { Background, ModalWrapper, ModalContent, CloseModalButton } from './SharedModalElements';\n\nconst SharedModal = ({\n  showModal,\n  setShowModal,\n  children\n}) => {\n  _s();\n\n  const modalRef = useRef();\n  console.log(children);\n  const [formToShow, setFormToShow] = useState(forms.signUp);\n\n  const changeForm = formName => setFormToShow(formName);\n\n  useEffect(() => {\n    if (!showModal) {\n      setFormToShow(forms.signUp);\n    }\n  }, [showModal]);\n\n  const closeModal = e => {\n    if (modalRef.current === e.target) {\n      setShowModal(false);\n    }\n  };\n\n  const keyPress = useCallback(e => {\n    if (e.key === 'Escape' && showModal) {\n      setShowModal(false);\n    }\n  }, [setShowModal, showModal]);\n  useEffect(() => {\n    document.addEventListener('keydown', keyPress);\n    return () => document.removeEventListener('keydown', keyPress);\n  }, [keyPress]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: showModal ? /*#__PURE__*/_jsxDEV(Portal, {\n      children: /*#__PURE__*/_jsxDEV(Background, {\n        ref: modalRef,\n        onClick: closeModal,\n        children: /*#__PURE__*/_jsxDEV(ModalWrapper, {\n          showModal: showModal,\n          children: [/*#__PURE__*/_jsxDEV(ModalContent, {\n            children: formToShow === forms.login ? /*#__PURE__*/_jsxDEV(LoginForm, {\n              showForm: changeForm\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 59\n            }, this) : /*#__PURE__*/_jsxDEV(SignUp, {\n              showForm: changeForm\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 96\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(CloseModalButton, {\n            \"aria-label\": \"Close Modal\",\n            onClick: () => setShowModal(prev => !prev)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }, this) : null\n  }, void 0, false);\n};\n\n_s(SharedModal, \"jsfnGCUjR4t+vVssrud2777Clfg=\");\n\n_c = SharedModal;\nexport default SharedModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"SharedModal\");","map":{"version":3,"sources":["/Users/tonytolen/Desktop/react/my-ski-resort/my-ski-resort/src/components/Sharedmodal/SharedModal.js"],"names":["React","useRef","useEffect","useCallback","useState","Portal","SignUp","LoginForm","forms","Background","ModalWrapper","ModalContent","CloseModalButton","SharedModal","showModal","setShowModal","children","modalRef","console","log","formToShow","setFormToShow","signUp","changeForm","formName","closeModal","e","current","target","keyPress","key","document","addEventListener","removeEventListener","login","prev"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAcC,MAAd,EAAsBC,SAAtB,EAAiCC,WAAjC,EAA8CC,QAA9C,QAA6D,OAA7D;AAEA,OAAOC,MAAP,MAAmB,WAAnB;AAEA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,SAAP,MAAsB,8BAAtB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AAEA,SAAQC,UAAR,EAAoBC,YAApB,EAAkCC,YAAlC,EAAgDC,gBAAhD,QAAuE,uBAAvE;;AAKA,MAAMC,WAAW,GAAG,CAAC;AAACC,EAAAA,SAAD;AAAYC,EAAAA,YAAZ;AAA0BC,EAAAA;AAA1B,CAAD,KAAyC;AAAA;;AACzD,QAAMC,QAAQ,GAAGhB,MAAM,EAAvB;AACAiB,EAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AAEA,QAAM,CAACI,UAAD,EAAaC,aAAb,IAA8BjB,QAAQ,CAACI,KAAK,CAACc,MAAP,CAA5C;;AAEA,QAAMC,UAAU,GAAIC,QAAD,IAAcH,aAAa,CAACG,QAAD,CAA9C;;AAEAtB,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAG,CAACY,SAAJ,EAAc;AACVO,MAAAA,aAAa,CAACb,KAAK,CAACc,MAAP,CAAb;AACH;AACJ,GAJQ,EAIN,CAACR,SAAD,CAJM,CAAT;;AAMA,QAAMW,UAAU,GAAGC,CAAC,IAAI;AACpB,QAAGT,QAAQ,CAACU,OAAT,KAAqBD,CAAC,CAACE,MAA1B,EAAkC;AAC9Bb,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACH;AACJ,GAJD;;AAMA,QAAMc,QAAQ,GAAG1B,WAAW,CAACuB,CAAC,IAAI;AAC9B,QAAGA,CAAC,CAACI,GAAF,KAAU,QAAV,IAAsBhB,SAAzB,EAAoC;AAChCC,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACH;AACJ,GAJ2B,EAIzB,CAACA,YAAD,EAAeD,SAAf,CAJyB,CAA5B;AAMAZ,EAAAA,SAAS,CAAC,MAAM;AACZ6B,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,EAAqCH,QAArC;AACA,WAAM,MAAME,QAAQ,CAACE,mBAAT,CAA6B,SAA7B,EAAwCJ,QAAxC,CAAZ;AACH,GAHQ,EAGN,CAACA,QAAD,CAHM,CAAT;AAOA,sBACI;AAAA,cACKf,SAAS,gBACN,QAAC,MAAD;AAAA,6BACA,QAAC,UAAD;AAAY,QAAA,GAAG,EAAEG,QAAjB;AAA2B,QAAA,OAAO,EAAEQ,UAApC;AAAA,+BACI,QAAC,YAAD;AAAc,UAAA,SAAS,EAAEX,SAAzB;AAAA,kCACI,QAAC,YAAD;AAAA,sBACKM,UAAU,KAAKZ,KAAK,CAAC0B,KAArB,gBAA6B,QAAC,SAAD;AAAW,cAAA,QAAQ,EAAEX;AAArB;AAAA;AAAA;AAAA;AAAA,oBAA7B,gBAAkE,QAAC,MAAD;AAAQ,cAAA,QAAQ,EAAEA;AAAlB;AAAA;AAAA;AAAA;AAAA;AADvE;AAAA;AAAA;AAAA;AAAA,kBADJ,eAII,QAAC,gBAAD;AAAkB,0BAAW,aAA7B;AAA2C,YAAA,OAAO,EAAE,MAAMR,YAAY,CAACoB,IAAI,IAAI,CAACA,IAAV;AAAtE;AAAA;AAAA;AAAA;AAAA,kBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,YADM,GAWN;AAZR,mBADJ;AAgBH,CAjDD;;GAAMtB,W;;KAAAA,W;AAmDN,eAAeA,WAAf","sourcesContent":["import React,{useRef, useEffect, useCallback, useState} from 'react';\n\nimport Portal from '../Portal';\n\nimport SignUp from '../Login/Signup/SignUp';\nimport LoginForm from '../Login/Loginform/LoginForm';\nimport forms from '../Login/index';\n\nimport {Background, ModalWrapper, ModalContent, CloseModalButton} from './SharedModalElements';\n\n\n\n\nconst SharedModal = ({showModal, setShowModal, children}) => {\n    const modalRef = useRef();\n    console.log(children)\n\n    const [formToShow, setFormToShow] = useState(forms.signUp);\n\n    const changeForm = (formName) => setFormToShow(formName);\n\n    useEffect(() => {\n        if(!showModal){\n            setFormToShow(forms.signUp)\n        }\n    }, [showModal]);\n\n    const closeModal = e => {\n        if(modalRef.current === e.target) {\n            setShowModal(false);\n        }\n    };\n\n    const keyPress = useCallback(e => {\n        if(e.key === 'Escape' && showModal) {\n            setShowModal(false)\n        }\n    }, [setShowModal, showModal])\n\n    useEffect(() => {\n        document.addEventListener('keydown', keyPress);\n        return() => document.removeEventListener('keydown', keyPress);\n    }, [keyPress]);\n    \n\n\n    return (\n        <>\n            {showModal ? (\n                <Portal>\n                <Background ref={modalRef} onClick={closeModal}>\n                    <ModalWrapper showModal={showModal}>\n                        <ModalContent>\n                            {formToShow === forms.login ? <LoginForm showForm={changeForm}/> : <SignUp showForm={changeForm}/>}\n                        </ModalContent>\n                        <CloseModalButton aria-label='Close Modal' onClick={() => setShowModal(prev => !prev)}/>\n                    </ModalWrapper>\n                </Background>\n                </Portal>\n            ) : null}\n        </>\n    );\n};\n\nexport default SharedModal;\n"]},"metadata":{},"sourceType":"module"}